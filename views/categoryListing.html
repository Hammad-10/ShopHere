<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/categoryListing.css">
  <link rel="stylesheet" href="../css/miniCart.css">
  <!-- <link rel="stylesheet" href="../css/navbar.css"> -->

  <style>
    body {
    margin: 0;
    font-family: Arial, sans-serif;
}

.navbar {
    background-color: black;
    padding: 1rem;
    display: flex; /* Ensure the navbar is a flex container */
    align-items: center; /* Center items vertically */
    justify-content: space-between; /* Space out items horizontally */
}

.nav-links {
    list-style: none;
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin: 0;
    padding: 0;
}

.nav-links li {
    margin: 0 10px; /* Adjust margins for spacing */
    padding: 0;
    text-align: center;
}

.nav-links a {
    color: white;
    text-decoration: none;
    font-size: 1.2rem;
}

.nav-links a:hover {
    text-decoration: underline;
}

.cart-icon {
    font-size: 1.5rem;
}

#cart-counter {
    background-color: red;
    color: white;
    border-radius: 50%;
    padding: 0.5rem 1rem;
    margin-left: 10px;
    font-size: 1rem;
    min-width: 1.5rem; /* Ensure minimum width */
    text-align: center; /* Center text inside the counter */
    display: inline-block; /* Ensure it behaves like an inline element */
}

.footer-dark {
    background-color: #000; /* Dark black background */

     /* White text color */
}
.footer-dark a {
    color: #ffffff;
}
.footer-dark a:hover {
    color: #f0f0f0;
}
.footer-dark .p-4 {
    background-color: #222; /* Slightly lighter black for the copyright area */
} 

.main 

{
    margin-top: 5px;
    color : white;
}

.endfoot 
{
    color : white;
    background-color: black;
}



  </style>


  <title>Product Grid</title>
</head>

<body>
  <div id="navbar">
    <nav class="navbar">
      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="#">Shop</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Connect</a></li>
        <li><a href="#" data-bs-toggle="offcanvas" data-bs-target="#staticBackdrop" aria-controls="staticBackdrop"><i
              class="cartIcon" id="cartIcon">ðŸ›’</i></a></li>
      </ul>
      <span id="cart-counter">0</span>
    </nav>

  </div>

  <!-- product-grid -->
  <div class="product-grid">
    <div class="container">
      <div class="row">
        <?php while ($row = $result->fetch_assoc()) { ?>
          <div class="col-md-4">
            <div class="product-item"> <!-- Moved .product-item class here -->
              <a href="routes.php?page=View_specificProduct&sno=<?php echo urlencode($row['sno']); ?>" class="product-link">
                <div class="card mb-4">
                  <img class="productImage card-img-top" src="../assets/Images/BeautyCraftsSources/<?php echo htmlspecialchars($row['sku']); ?>.jpg" alt="<?php echo htmlspecialchars($row['name']); ?>">
                  <div class="card-body">
                    <h5 class="card-title"><?php echo htmlspecialchars($row['name']); ?></h5>
                    <p class="card-text">$ <?php echo htmlspecialchars($row['price']); ?></p>
                    <a href="#" class="btn btn-primary add-to-cart">Add to Cart</a>
                  </div>
                </div>
              </a>
            </div>
          </div>
        <?php } ?>
      </div>
    </div>
  </div>

  <!-- miniCart -->
  <div class="offcanvas offcanvas-end" data-bs-backdrop="static" tabindex="-1" id="cartModal"
    aria-labelledby="staticBackdropLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="staticBackdropLabel">Cart</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="modal-dialog modal-lg">
        <div class="modal-body">
          <div id="cartItemsList">
            <!-- Cart items will be dynamically added here -->
          </div>
        </div>
      </div>
    </div>
    <div class="btnsDiv"
      style="display: flex; flex-direction: column; justify-content: space-between; align-self: center;">
      <a href="checkout.html" class="checkoutBtn">Checkout</a>
      <a href="#" class="continueShopBtn">Continue Shopping</a>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <!-- <script src="../js/LoadComponent.js"></script> -->
  <script src="../js/cartCounter.js"></script>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
  const addtocartButtons = document.querySelectorAll('.add-to-cart');
  const cartCountElement = document.querySelector('.cart-count');
  const cartIcon = document.getElementById('cartIcon');
  const cartItemsList = document.getElementById('cartItemsList');
  const clearCartButton = document.getElementById('clearCartButton');

  let cartItems = [];

  addtocartButtons.forEach(button => {
    button.addEventListener("click", (e) => {
      e.preventDefault(); // Prevent default action for the link

      // Find the closest product-item parent
      const productDiv = button.closest('.product-item');
      
      if (productDiv) {
        const imageSrc = productDiv.querySelector('.productImage').src;
        const title = productDiv.querySelector('.card-title').innerText;
        const price = productDiv.querySelector('.card-text').innerText.replace('$', '').trim();

        const item = { imageSrc, title, price };
        cartItems.push(item);
        updateCart();
      } else {
        console.error("Product item container not found!");
      }
    });
  });

  cartIcon.addEventListener("click", () => {
    const cartModal = new bootstrap.Modal(document.getElementById('cartModal'));
    cartModal.show();
  });

  clearCartButton.addEventListener("click", () => {
    cartItems = [];
    updateCart();
  });

  function updateCart() {
    // cartCountElement.textContent = cartItems.length;
    cartItemsList.innerHTML = "";

    cartItems.forEach((item, index) => {
      const cartItemDiv = document.createElement('div');
      cartItemDiv.className = 'maindiv mb-3';

      cartItemDiv.innerHTML = `
        <div class="imageDiv">
          <img alt="${item.title}" class="productImage" src="${item.imageSrc}">
        </div>
        <div class="productDetailsdiv">
          <h5>${item.title}</h5>
          <p><strong>Price:</strong> $${item.price}</p>
          <select title="quantity" id="quantity-${index}">
            <option value="1">1</option>
          </select>
          <button class="btn btn-danger btn-sm ms-2 remove-item" data-index="${index}">Remove</button>
        </div>
      `;

      cartItemsList.appendChild(cartItemDiv);
    });

    const removeButtons = document.querySelectorAll('.remove-item');
    removeButtons.forEach(button => {
      button.addEventListener("click", (e) => {
        const index = e.target.getAttribute('data-index');
        cartItems.splice(index, 1);
        updateCart();
      });
    });
  }
});

  </script>

<footer class="footer-dark text-center text-lg-start text-muted">
  <!-- Section: Social media --
  <!-- Section: Links  -->
  <section class="main">
    <div class="container text-center text-md-start mt-5">
      <!-- Grid row -->
      <div class="row mt-3">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <!-- Content -->
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Company name
          </h6>
          <p>
            Here you can use rows and columns to organize your footer content. Lorem ipsum
            dolor sit amet, consectetur adipisicing elit.
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Products
          </h6>
          <p>
            <a href="#" class="text-reset">Herbal</a>
          </p>
          <p>
            <a href="#" class="text-reset">Natural</a>
          </p>
          <p>
            <a href="#" class="text-reset">Healing</a>
          </p>
          <p>
            <a href="#" class="text-reset">Trusted</a>
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">
            Useful links
          </h6>
          <p>
            <a href="#" class="text-reset">Pricing</a>
          </p>
          <p>
            <a href="#" class="text-reset">Settings</a>
          </p>
          <p>
            <a href="#" class="text-reset">Orders</a>
          </p>
          <p>
            <a href="#" class="text-reset">Help</a>
          </p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">Contact</h6>
          <p><i class="fas fa-home me-3"></i> New York, NY 10012, US</p>
          <p>
            <i class="fas fa-envelope me-3"></i>
            BEAUTYCRAFTSCO@example.com
          </p>
          <p><i class="fas fa-phone me-3"></i> + 01 234 567 88</p>
          <p><i class="fas fa-print me-3"></i> + 01 234 567 89</p>
        </div>
        <!-- Grid column -->
      </div>
      <!-- Grid row -->
    </div>
  </section>
  <!-- Section: Links  -->

  <!-- Copyright -->
  <div class="endfoot" >
  <div class="text-center p-4">
    Â© 2024 Copyright:
    <a class="text-reset fw-bold" href="https://tilesfountain.netlify.app/">BEAUTY CRAFTS CO.</a>
  </div>
  </div>
  <!-- Copyright -->
</footer>

</body>
</html>
